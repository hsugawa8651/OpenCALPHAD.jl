var documenterSearchIndex = {"docs":
[{"location":"api/#API-Reference","page":"API Reference","title":"API Reference","text":"","category":"section"},{"location":"api/#Database","page":"API Reference","title":"Database","text":"","category":"section"},{"location":"api/#Types","page":"API Reference","title":"Types","text":"","category":"section"},{"location":"api/#Gibbs-Energy","page":"API Reference","title":"Gibbs Energy","text":"","category":"section"},{"location":"api/#Thermodynamic-Properties","page":"API Reference","title":"Thermodynamic Properties","text":"Functions for calculating thermodynamic properties (entropy, enthalpy, mixing properties). Currently only supports binary (2-component) systems.","category":"section"},{"location":"api/#Solvers","page":"API Reference","title":"Solvers","text":"","category":"section"},{"location":"api/#Two-Phase-Equilibrium","page":"API Reference","title":"Two-Phase Equilibrium","text":"","category":"section"},{"location":"api/#STEP-Calculation","page":"API Reference","title":"STEP Calculation","text":"","category":"section"},{"location":"api/#MAP-Calculation","page":"API Reference","title":"MAP Calculation","text":"","category":"section"},{"location":"api/#Differentiation","page":"API Reference","title":"Differentiation","text":"","category":"section"},{"location":"api/#Julia-DSL","page":"API Reference","title":"Julia DSL","text":"Functions for defining thermodynamic models directly in Julia code.","category":"section"},{"location":"api/#Database-Building-(DSL)","page":"API Reference","title":"Database Building (DSL)","text":"","category":"section"},{"location":"api/#Phase-Field-Integration","page":"API Reference","title":"Phase Field Integration","text":"Utility functions for coupling with phase field simulations.","category":"section"},{"location":"api/#Equilibrium-Calculation","page":"API Reference","title":"Equilibrium Calculation","text":"","category":"section"},{"location":"api/#Utility-Functions","page":"API Reference","title":"Utility Functions","text":"","category":"section"},{"location":"api/#Plotting","page":"API Reference","title":"Plotting","text":"","category":"section"},{"location":"api/#Index","page":"API Reference","title":"Index","text":"","category":"section"},{"location":"api/#OpenCALPHAD.read_tdb","page":"API Reference","title":"OpenCALPHAD.read_tdb","text":"read_tdb(filepath::AbstractString) -> Database\n\nParse a TDB (Thermodynamic Database) file and return a Database object.\n\nArguments\n\nfilepath: Path to the TDB file\n\nReturns\n\nDatabase: Parsed database containing elements, functions, phases, and parameters\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.Database","page":"API Reference","title":"OpenCALPHAD.Database","text":"Database\n\nContainer for thermodynamic database information.\n\nFields\n\nelements::Vector{Element}: Chemical elements\nfunctions::Vector{GFunction}: Gibbs energy functions\nphases::Vector{Phase}: Phase definitions with parameters\nsource::String: Source file path or identifier\n\n\n\n\n\n","category":"type"},{"location":"api/#OpenCALPHAD.get_phase","page":"API Reference","title":"OpenCALPHAD.get_phase","text":"get_phase(db::Database, name::AbstractString) -> Union{Phase, Nothing}\n\nFind a phase by name in the database.\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.get_element","page":"API Reference","title":"OpenCALPHAD.get_element","text":"get_element(db::Database, name::AbstractString) -> Union{Element, Nothing}\n\nFind an element by name in the database.\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.get_function","page":"API Reference","title":"OpenCALPHAD.get_function","text":"get_function(db::Database, name::AbstractString) -> Union{GFunction, Nothing}\n\nFind a function by name in the database.\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.Phase","page":"API Reference","title":"OpenCALPHAD.Phase","text":"Phase\n\nRepresents a thermodynamic phase.\n\nFields\n\nname::String: Phase identifier (e.g., \"FCC_A1\", \"LIQUID\")\nstate::Char: State indicator ('L', 'S', 'G')\nmodel_type::String: Model type string from TDB\nsites::Vector{Float64}: Site ratios for each sublattice\nconstituents::Constitution: Allowed species on each sublattice\nparameters::Vector{Parameter}: Thermodynamic parameters (from TDB)\njulia_parameters::Vector{JuliaParameter}: Parameters defined as Julia functions\n\n\n\n\n\n","category":"type"},{"location":"api/#OpenCALPHAD.Element","page":"API Reference","title":"OpenCALPHAD.Element","text":"Element\n\nRepresents a chemical element in the thermodynamic database.\n\nFields\n\nname::String: Element symbol (e.g., \"AG\", \"CU\")\nreference_state::String: Reference phase (e.g., \"FCC_A1\")\nmass::Float64: Atomic mass [g/mol]\nH298::Float64: Enthalpy at 298.15 K [J/mol]\nS298::Float64: Entropy at 298.15 K [J/(mol·K)]\n\n\n\n\n\n","category":"type"},{"location":"api/#OpenCALPHAD.Parameter","page":"API Reference","title":"OpenCALPHAD.Parameter","text":"Parameter\n\nRepresents a thermodynamic parameter (G, L, TC, BMAGN, etc.) in TDB format.\n\nFields\n\nphase_name::String: Phase this parameter belongs to\nsymbol::Char: Parameter type ('G', 'L', 'T', 'B', etc.)\nconstituents::Constitution: Species combination for this parameter\norder::Int: Interaction order (for L parameters: 0, 1, 2, ...)\ntemp_range::Tuple{Float64,Float64}: Valid temperature range\ntemp_breaks::Vector{Float64}: Temperature breakpoints\nexpressions::Vector{String}: Expression strings\n\n\n\n\n\n","category":"type"},{"location":"api/#OpenCALPHAD.JuliaParameter","page":"API Reference","title":"OpenCALPHAD.JuliaParameter","text":"JuliaParameter\n\nRepresents a thermodynamic parameter defined as a Julia function. This allows direct use of Julia code instead of TDB expression strings.\n\nFields\n\nsymbol::Char: Parameter type ('G' for Gibbs, 'L' for interaction)\nconstituents::Vector{Vector{Symbol}}: Species per sublattice\norder::Int: Interaction order (for L parameters: 0, 1, 2, ...)\nfunc::Function: Julia function T -> Float64\n\n\n\n\n\n","category":"type"},{"location":"api/#OpenCALPHAD.GFunction","page":"API Reference","title":"OpenCALPHAD.GFunction","text":"GFunction\n\nRepresents a FUNCTION definition in TDB format. Temperature-dependent Gibbs energy expression.\n\nFields\n\nname::String: Function identifier (e.g., \"GHSERAG\")\ntemp_range::Tuple{Float64,Float64}: Valid temperature range [K]\ntemp_breaks::Vector{Float64}: Temperature breakpoints for piecewise functions\nexpressions::Vector{String}: Expression strings for each temperature segment\ncompiled::Union{Nothing,Function}: Compiled Julia function (lazy evaluation)\n\n\n\n\n\n","category":"type"},{"location":"api/#OpenCALPHAD.Equilibrium","page":"API Reference","title":"OpenCALPHAD.Equilibrium","text":"Equilibrium\n\nComplete equilibrium calculation result.\n\nFields\n\nconditions::ConditionSet: Input conditions\ncomponents::Vector{ComponentResult}: Component results\nphases::Vector{PhaseResult}: Phase results\ngibbs_energy::Float64: Total Gibbs energy [J]\nenthalpy::Float64: Total enthalpy [J]\nentropy::Float64: Total entropy [J/K]\niterations::Int: Number of iterations to converge\nconverged::Bool: Whether calculation converged\n\n\n\n\n\n","category":"type"},{"location":"api/#OpenCALPHAD.PhaseResult","page":"API Reference","title":"OpenCALPHAD.PhaseResult","text":"PhaseResult\n\nResults for a single phase in equilibrium.\n\nFields\n\nname::String: Phase name\nstatus::Symbol: Phase status (:stable, :metastable, :suspended)\namount::Float64: Amount of phase [mol]\nsite_fractions::Matrix{Float64}: Site fractions y[sublattice, constituent]\nmole_fractions::Vector{Float64}: Mole fractions of components in phase\ngibbs_energy::Float64: Molar Gibbs energy [J/mol]\ndriving_force::Float64: Driving force for precipitation [J/mol]\n\n\n\n\n\n","category":"type"},{"location":"api/#OpenCALPHAD.ComponentResult","page":"API Reference","title":"OpenCALPHAD.ComponentResult","text":"ComponentResult\n\nResults for a single component in equilibrium.\n\nFields\n\nname::String: Component name\nmoles::Float64: Total moles\nmole_fraction::Float64: Overall mole fraction\nchemical_potential::Float64: Chemical potential [J/mol]\nactivity::Float64: Activity (relative to reference state)\n\n\n\n\n\n","category":"type"},{"location":"api/#OpenCALPHAD.EquilCondition","page":"API Reference","title":"OpenCALPHAD.EquilCondition","text":"EquilCondition\n\nRepresents a single equilibrium condition. (Named EquilCondition to avoid conflict with Base.Condition)\n\nFields\n\ntype::ConditionType: Type of condition\ncomponent::String: Component name (for X, W, MU, AC) or phase name (for NP, BP, VP)\nvalue::Float64: Condition value\n\n\n\n\n\n","category":"type"},{"location":"api/#OpenCALPHAD.ConditionSet","page":"API Reference","title":"OpenCALPHAD.ConditionSet","text":"ConditionSet\n\nCollection of equilibrium conditions.\n\n\n\n\n\n","category":"type"},{"location":"api/#OpenCALPHAD.ConditionType","page":"API Reference","title":"OpenCALPHAD.ConditionType","text":"ConditionType\n\nTypes of equilibrium conditions.\n\n\n\n\n\n","category":"type"},{"location":"api/#OpenCALPHAD.calculate_gibbs_energy","page":"API Reference","title":"OpenCALPHAD.calculate_gibbs_energy","text":"calculate_gibbs_energy(phase::Phase, T::Real, y::AbstractMatrix, db::Database;\n                      P::Real=1e5) -> Float64\n\nCalculate the molar Gibbs energy of a phase at temperature T and pressure P with site fractions y[sublattice, constituent].\n\nThe total Gibbs energy is: G = Gref + Gideal + Gexcess + Gmagnetic\n\nwhere:\n\nG_ref: Reference state contribution (endmember energies)\nG_ideal: Ideal mixing entropy contribution\nG_excess: Excess Gibbs energy (Redlich-Kister)\nG_magnetic: Magnetic contribution (if applicable)\n\n\n\n\n\ncalculate_gibbs_energy(phase::Phase, T::Real, y::AbstractMatrix; P::Real=1e5) -> Float64\n\nCalculate the molar Gibbs energy using Julia function parameters (DSL mode). This method is used when the phase has julia_parameters defined.\n\nNo Database argument is needed since all functions are embedded in the phase.\n\n\n\n\n\ncalculate_gibbs_energy(phase, T, y, db; P=1e5)\n\nFallback method for invalid phase type.\n\n\n\n\n\ncalculate_gibbs_energy(phase, T, y; P=1e5)\n\nFallback method for invalid phase type (DSL version).\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.calculate_entropy","page":"API Reference","title":"OpenCALPHAD.calculate_entropy","text":"calculate_entropy(phase::Phase, T::Real, y::AbstractMatrix, db::Database;\n                  P::Real=1e5) -> Float64\n\nCalculate the molar entropy S = -∂G/∂T using automatic differentiation.\n\nCurrently only supports binary (2-component) systems.\n\nArguments\n\nphase: Phase structure from database\nT: Temperature [K]\ny: Site fraction matrix y[sublattice, constituent]\ndb: Thermodynamic database\nP: Pressure [Pa] (default: 1e5)\n\nReturns\n\nMolar entropy [J/(mol·K)]\n\n\n\n\n\ncalculate_entropy(phase::Phase, T::Real, y::AbstractMatrix; P::Real=1e5) -> Float64\n\nDSL version: Calculate entropy using Julia-defined parameters (no database needed).\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.calculate_enthalpy","page":"API Reference","title":"OpenCALPHAD.calculate_enthalpy","text":"calculate_enthalpy(phase::Phase, T::Real, y::AbstractMatrix, db::Database;\n                   P::Real=1e5) -> Float64\n\nCalculate the molar enthalpy H = G + T*S.\n\nCurrently only supports binary (2-component) systems.\n\nArguments\n\nphase: Phase structure from database\nT: Temperature [K]\ny: Site fraction matrix y[sublattice, constituent]\ndb: Thermodynamic database\nP: Pressure [Pa] (default: 1e5)\n\nReturns\n\nMolar enthalpy [J/mol]\n\n\n\n\n\ncalculate_enthalpy(phase::Phase, T::Real, y::AbstractMatrix; P::Real=1e5) -> Float64\n\nDSL version: Calculate enthalpy using Julia-defined parameters (no database needed).\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.calculate_mixing_gibbs","page":"API Reference","title":"OpenCALPHAD.calculate_mixing_gibbs","text":"calculate_mixing_gibbs(phase::Phase, T::Real, y::AbstractMatrix, db::Database;\n                       P::Real=1e5) -> Float64\n\nCalculate the mixing Gibbs energy: Gmix = G - Σ xi * G_i^pure\n\nCurrently only supports binary (2-component) systems.\n\nArguments\n\nphase: Phase structure from database\nT: Temperature [K]\ny: Site fraction matrix y[sublattice, constituent]\ndb: Thermodynamic database\nP: Pressure [Pa] (default: 1e5)\n\nReturns\n\nMixing Gibbs energy [J/mol]\n\n\n\n\n\ncalculate_mixing_gibbs(phase::Phase, T::Real, y::AbstractMatrix; P::Real=1e5) -> Float64\n\nDSL version: Calculate mixing Gibbs energy using Julia-defined parameters.\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.calculate_mixing_enthalpy","page":"API Reference","title":"OpenCALPHAD.calculate_mixing_enthalpy","text":"calculate_mixing_enthalpy(phase::Phase, T::Real, y::AbstractMatrix, db::Database;\n                          P::Real=1e5) -> Float64\n\nCalculate the mixing enthalpy: Hmix = H - Σ xi * H_i^pure\n\nCurrently only supports binary (2-component) systems.\n\nArguments\n\nphase: Phase structure from database\nT: Temperature [K]\ny: Site fraction matrix y[sublattice, constituent]\ndb: Thermodynamic database\nP: Pressure [Pa] (default: 1e5)\n\nReturns\n\nMixing enthalpy [J/mol]\n\n\n\n\n\ncalculate_mixing_enthalpy(phase::Phase, T::Real, y::AbstractMatrix; P::Real=1e5) -> Float64\n\nDSL version: Calculate mixing enthalpy using Julia-defined parameters.\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.calculate_mixing_entropy","page":"API Reference","title":"OpenCALPHAD.calculate_mixing_entropy","text":"calculate_mixing_entropy(phase::Phase, T::Real, y::AbstractMatrix, db::Database;\n                         P::Real=1e5) -> Float64\n\nCalculate the mixing entropy: Smix = S - Σ xi * S_i^pure\n\nCurrently only supports binary (2-component) systems.\n\nArguments\n\nphase: Phase structure from database\nT: Temperature [K]\ny: Site fraction matrix y[sublattice, constituent]\ndb: Thermodynamic database\nP: Pressure [Pa] (default: 1e5)\n\nReturns\n\nMixing entropy [J/(mol·K)]\n\n\n\n\n\ncalculate_mixing_entropy(phase::Phase, T::Real, y::AbstractMatrix; P::Real=1e5) -> Float64\n\nDSL version: Calculate mixing entropy using Julia-defined parameters.\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.thermodynamic_properties","page":"API Reference","title":"OpenCALPHAD.thermodynamic_properties","text":"thermodynamic_properties(phase::Phase, T::Real, y::AbstractMatrix, db::Database;\n                         P::Real=1e5) -> NamedTuple\n\nCalculate all thermodynamic properties efficiently in one call.\n\nCurrently only supports binary (2-component) systems.\n\nReturns\n\nNamedTuple with fields:\n\nG: Gibbs energy [J/mol]\nH: Enthalpy [J/mol]\nS: Entropy [J/(mol·K)]\nG_mix: Mixing Gibbs energy [J/mol]\nH_mix: Mixing enthalpy [J/mol]\nS_mix: Mixing entropy [J/(mol·K)]\n\n\n\n\n\nthermodynamic_properties(phase::Phase, T::Real, y::AbstractMatrix; P::Real=1e5) -> NamedTuple\n\nDSL version: Calculate all thermodynamic properties using Julia-defined parameters.\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.DiffMethod","page":"API Reference","title":"OpenCALPHAD.DiffMethod","text":"DiffMethod\n\nAbstract type for differentiation methods.\n\n\n\n\n\n","category":"type"},{"location":"api/#OpenCALPHAD.EquilibriumSolver","page":"API Reference","title":"OpenCALPHAD.EquilibriumSolver","text":"EquilibriumSolver\n\nAbstract type for equilibrium calculation solvers.\n\n\n\n\n\n","category":"type"},{"location":"api/#OpenCALPHAD.GridSearchSolver","page":"API Reference","title":"OpenCALPHAD.GridSearchSolver","text":"GridSearchSolver <: EquilibriumSolver\n\nGrid search over composition space for initial guess.\n\nFields\n\nn_points::Int: Number of grid points per dimension (default: 21)\nmin_fraction::Float64: Minimum site fraction to avoid log(0) (default: 1e-8)\n\n\n\n\n\n","category":"type"},{"location":"api/#OpenCALPHAD.NewtonSolver","page":"API Reference","title":"OpenCALPHAD.NewtonSolver","text":"NewtonSolver <: EquilibriumSolver\n\nNewton-Raphson solver using NLsolve.jl.\n\nFields\n\ndiff_method::DiffMethod: Differentiation method\nmax_iter::Int: Maximum iterations (default: 100)\nftol::Float64: Function tolerance (default: 1e-8)\nxtol::Float64: Variable tolerance (default: 1e-8)\n\n\n\n\n\n","category":"type"},{"location":"api/#OpenCALPHAD.HybridSolver","page":"API Reference","title":"OpenCALPHAD.HybridSolver","text":"HybridSolver <: EquilibriumSolver\n\nHybrid solver: Grid search for initial guess, then Newton refinement.\n\nFields\n\ngrid::GridSearchSolver: Grid search solver for initial guess\nnewton::NewtonSolver: Newton solver for refinement\n\n\n\n\n\n","category":"type"},{"location":"api/#OpenCALPHAD.SinglePhaseResult","page":"API Reference","title":"OpenCALPHAD.SinglePhaseResult","text":"SinglePhaseResult\n\nResult of single-phase Gibbs energy minimization.\n\nFields\n\nphase::Phase: The phase\nsite_fractions::Matrix{Float64}: Optimized site fractions y[sublattice, constituent]\ngibbs_energy::Float64: Gibbs energy at minimum [J/mol]\nconverged::Bool: Whether the solver converged\niterations::Int: Number of iterations\n\n\n\n\n\n","category":"type"},{"location":"api/#OpenCALPHAD.GridScanResult","page":"API Reference","title":"OpenCALPHAD.GridScanResult","text":"GridScanResult\n\nResult of grid scan over composition space.\n\nFields\n\nphase::Phase: The phase\nx_grid::Vector{Float64}: Composition grid points\nG_values::Vector{Float64}: Gibbs energy at each grid point\ny_values::Vector{Matrix{Float64}}: Site fractions at each grid point\nmin_idx::Int: Index of minimum G point\n\n\n\n\n\n","category":"type"},{"location":"api/#OpenCALPHAD.scan_composition","page":"API Reference","title":"OpenCALPHAD.scan_composition","text":"scan_composition(phase::Phase, T::Real, db::Database, solver::GridSearchSolver;\n                 element1::String=\"\", element2::String=\"\", P::Real=1e5)\n\nScan Gibbs energy over composition space for a binary system.\n\nArguments\n\nphase: Phase to scan\nT: Temperature [K]\ndb: Database\nsolver: Grid search solver\nelement1, element2: Elements defining the composition axis\nP: Pressure [Pa]\n\nReturns\n\nGridScanResult: Scan result\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.scan_composition_multi","page":"API Reference","title":"OpenCALPHAD.scan_composition_multi","text":"scan_composition_multi(phases::Vector{Phase}, T::Real, db::Database,\n                       solver::GridSearchSolver; P::Real=1e5)\n                       -> Dict{String, GridScanResult}\n\nScan composition for multiple phases.\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.minimize_gibbs","page":"API Reference","title":"OpenCALPHAD.minimize_gibbs","text":"minimize_gibbs(phase::Phase, T::Real, db::Database, solver::EquilibriumSolver;\n               x_target::Union{Nothing, Dict}=nothing, P::Real=1e5)\n\nMinimize Gibbs energy for a single phase.\n\nArguments\n\nphase: Phase to minimize\nT: Temperature [K]\ndb: Database with parameters\nsolver: Solver to use\nx_target: Target composition (optional, for constrained minimization)\nP: Pressure [Pa]\n\nReturns\n\nSinglePhaseResult: Optimization result\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.find_minimum_envelope","page":"API Reference","title":"OpenCALPHAD.find_minimum_envelope","text":"find_minimum_envelope(scan_results::Dict{String, GridScanResult})\n                      -> Tuple{Vector{Float64}, Vector{String}, Vector{Float64}}\n\nFind the minimum G envelope across all phases.\n\nReturns:\n\nx_grid: Composition grid\nstable_phases: Phase name at each composition\nG_min: Minimum G at each composition\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.find_two_phase_region","page":"API Reference","title":"OpenCALPHAD.find_two_phase_region","text":"find_two_phase_region(scan_results::Dict{String, GridScanResult};\n                      tol::Float64=100.0) -> Vector{Tuple{Float64, String, String}}\n\nFind regions where two phases have similar G (potential two-phase regions).\n\nReturns list of (composition, phase1, phase2) tuples where |G1 - G2| < tol.\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.clamp_site_fractions!","page":"API Reference","title":"OpenCALPHAD.clamp_site_fractions!","text":"clamp_site_fractions!(y::AbstractMatrix; min_val::Float64=1e-10, normalize::Bool=true)\n\nClamp site fractions to avoid numerical issues with log(0). Optionally renormalize each sublattice to sum to 1. Iterates to ensure min_val constraint holds after normalization.\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.find_miscibility_gap","page":"API Reference","title":"OpenCALPHAD.find_miscibility_gap","text":"find_miscibility_gap(phase::Phase, T::Real, db::Database,\n                     x1_init::Float64=0.05, x2_init::Float64=0.95;\n                     P::Real=1e5, max_iter::Int=100, tol::Float64=1e-8,\n                     component_indices::Tuple{Int,Int}=(1,2))\n                     -> Union{MiscibilityGapResult, Nothing}\n\nFind miscibility gap (spinodal decomposition) within a single phase using common tangent construction with Newton-Raphson refinement.\n\nFor binary systems, finds two compositions x1 and x2 where the common tangent condition is satisfied: dG/dx|{x1} = dG/dx|{x2} = (G2-G1)/(x2-x1)\n\nArguments\n\nphase: Phase to analyze\nT: Temperature [K]\ndb: Database\nx1_init: Initial guess for left composition (default: 0.05)\nx2_init: Initial guess for right composition (default: 0.95)\nP: Pressure [Pa]\nmax_iter: Maximum Newton iterations\ntol: Convergence tolerance\ncomponent_indices: Tuple of (first, second) component indices in sublattice 1. Default is (1, 2). For multi-component databases, specify the desired components.\n\nReturns\n\nMiscibilityGapResult if miscibility gap found, nothing otherwise\n\nExample\n\n# Standard binary (AgCu)\ngap = find_miscibility_gap(fcc, 1000.0, db)\n\n# Multi-component (Cr-Mo from steel1.TDB, CR=2, MO=4 in LIQUID)\ngap = find_miscibility_gap(liquid, 2000.0, db; component_indices = (2, 4))\n\n\n\n\n\nfind_miscibility_gap(phase::Phase, T::Real, x1_init, x2_init; kwargs...) -> Union{MiscibilityGapResult, Nothing}\n\nFind miscibility gap using Julia DSL parameters (no Database required).\n\nThis method is used when the phase has julia_parameters defined. It enables parameter optimization with automatic differentiation.\n\nArguments\n\nphase: Phase with julia_parameters defined\nT: Temperature [K]\nx1_init: Initial guess for composition 1 (default: 0.05)\nx2_init: Initial guess for composition 2 (default: 0.95)\nP: Pressure [Pa] (keyword)\nmax_iter: Maximum Newton iterations (keyword)\ntol: Convergence tolerance (keyword)\n\nReturns\n\nMiscibilityGapResult if miscibility gap found, nothing otherwise\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.calculate_miscibility_equilibrium","page":"API Reference","title":"OpenCALPHAD.calculate_miscibility_equilibrium","text":"calculate_miscibility_equilibrium(phase::Phase, T::Real, db::Database,\n                                   x_overall::Float64;\n                                   P::Real=1e5, component_indices::Tuple{Int,Int}=(1,2),\n                                   kwargs...)\n                                   -> Union{TwoPhaseResult, Nothing}\n\nCalculate equilibrium for a phase with miscibility gap at given overall composition.\n\nArguments\n\nphase: Phase with potential miscibility gap\nT: Temperature [K]\ndb: Database\nx_overall: Overall mole fraction of second component\nP: Pressure [Pa]\ncomponent_indices: Tuple of (first, second) component indices in sublattice 1.\n\nReturns\n\nTwoPhaseResult if in two-phase region, nothing if single phase\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.find_common_tangent","page":"API Reference","title":"OpenCALPHAD.find_common_tangent","text":"find_common_tangent(phase1::Phase, phase2::Phase, T::Real, db::Database;\n                    P::Real=1e5, n_points::Int=101, tol::Float64=1e-6)\n                    -> Union{TwoPhaseResult, Nothing}\n\nFind two-phase equilibrium using common tangent construction.\n\nFor binary systems, finds compositions where chemical potentials are equal in both phases.\n\nArguments\n\nphase1, phase2: The two phases\nT: Temperature [K]\ndb: Database\nP: Pressure [Pa]\nn_points: Grid points for initial search\ntol: Tolerance for chemical potential equality\n\nReturns\n\nTwoPhaseResult if equilibrium found, nothing otherwise\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.calculate_two_phase_equilibrium","page":"API Reference","title":"OpenCALPHAD.calculate_two_phase_equilibrium","text":"calculate_two_phase_equilibrium(phase1::Phase, phase2::Phase, T::Real, db::Database,\n                                 x_overall::Float64;\n                                 P::Real=1e5, solver::EquilibriumSolver=HybridSolver())\n                                 -> Union{TwoPhaseResult, Nothing}\n\nCalculate two-phase equilibrium at given overall composition.\n\nArguments\n\nphase1, phase2: The two phases\nT: Temperature [K]\ndb: Database\nx_overall: Overall mole fraction of first component\nP: Pressure [Pa]\nsolver: Solver for single-phase optimization\n\nReturns\n\nTwoPhaseResult if two phases are stable, nothing if single phase\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.find_phase_boundaries","page":"API Reference","title":"OpenCALPHAD.find_phase_boundaries","text":"find_phase_boundaries(phase1::Phase, phase2::Phase, T_range::AbstractRange,\n                      db::Database; P::Real=1e5)\n                      -> Tuple{Vector{Float64}, Vector{Float64}, Vector{Float64}}\n\nFind phase boundaries over a temperature range.\n\nReturns\n\ntemperatures: Temperature points where equilibrium was found\nx1_boundary: Composition boundary of phase 1\nx2_boundary: Composition boundary of phase 2\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.MiscibilityGapResult","page":"API Reference","title":"OpenCALPHAD.MiscibilityGapResult","text":"MiscibilityGapResult\n\nResult of miscibility gap calculation within a single phase.\n\nFields\n\nphase::Phase: The phase with miscibility gap\nx1::Float64: Composition of first region (mole fraction of first component)\nx2::Float64: Composition of second region\nG1::Float64: Gibbs energy at x1\nG2::Float64: Gibbs energy at x2\nconverged::Bool: Whether the calculation converged\niterations::Int: Number of iterations\n\n\n\n\n\n","category":"type"},{"location":"api/#OpenCALPHAD.TwoPhaseResult","page":"API Reference","title":"OpenCALPHAD.TwoPhaseResult","text":"TwoPhaseResult\n\nResult of two-phase equilibrium calculation.\n\nFields\n\nphase1::SinglePhaseResult: First phase result\nphase2::SinglePhaseResult: Second phase result\nphase1_fraction::Float64: Molar fraction of phase 1\nphase2_fraction::Float64: Molar fraction of phase 2\nchemical_potentials::Vector{Float64}: Equilibrium chemical potentials\nconverged::Bool: Whether the calculation converged\niterations::Int: Number of iterations\n\n\n\n\n\n","category":"type"},{"location":"api/#OpenCALPHAD.step_temperature","page":"API Reference","title":"OpenCALPHAD.step_temperature","text":"step_temperature(phase::Phase, db::Database, x_overall, T_start, T_stop, T_step;\n                 P=1e5, component_indices=(1,2))\n\nPerform STEP calculation over temperature range.\n\nArguments\n\nphase::Phase: Phase to calculate\ndb::Database: Thermodynamic database\nx_overall::Real: Overall composition (second component mole fraction)\nT_start::Real: Start temperature [K]\nT_stop::Real: Stop temperature [K]\nT_step::Real: Temperature step [K]\nP::Real=1e5: Pressure [Pa]\ncomponent_indices::Tuple{Int,Int}=(1,2): Component indices in sublattice 1. For multi-component databases (e.g., steel1.TDB), specify the desired components: e.g., (1, 3) for Cr-Mo where Cr=1, Mo=3 in BCC_A2.\n\nReturns\n\nStepResult: Results at each temperature point\n\nExample\n\n# Standard binary (AgCu)\nresult = step_temperature(fcc, db, 0.7, 800.0, 1000.0, 100.0)\n\n# Multi-component (Cr-Mo from steel1.TDB)\nresult = step_temperature(bcc, db, 0.5, 1800.0, 2000.0, 100.0; component_indices = (1, 3))\n\n\n\n\n\nstep_temperature(phase, db, x_overall, T_start, T_stop, T_step; P=1e5)\n\nFallback method for invalid phase type.\n\n\n\n\n\nstep_temperature(phase::Phase, db, x_overall, T_start, T_stop, T_step; P=1e5)\n\nFallback method for invalid database type.\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.StepResult","page":"API Reference","title":"OpenCALPHAD.StepResult","text":"StepResult\n\nComplete result of a STEP calculation.\n\nFields\n\naxis_variable::Symbol: Variable being swept (:T or :X)\naxis_values::Vector{Float64}: Values of swept variable\npoints::Vector{StepPoint}: Results at each point\nx_overall::Float64: Fixed overall composition (first component mole fraction)\n\n\n\n\n\n","category":"type"},{"location":"api/#OpenCALPHAD.StepPoint","page":"API Reference","title":"OpenCALPHAD.StepPoint","text":"StepPoint\n\nResult of equilibrium calculation at a single point in STEP calculation.\n\nFields\n\naxis_value::Float64: Value of swept variable (T or x)\ngibbs_energy::Float64: Total Gibbs energy [J/mol]\nn_phases::Int: Number of stable phases (1 or 2)\nphase_amounts::Vector{Float64}: Amount of each phase [mol]\nphase_compositions::Vector{Vector{Float64}}: Composition of each phase\nconverged::Bool: Whether calculation converged\n\n\n\n\n\n","category":"type"},{"location":"api/#OpenCALPHAD.temperatures","page":"API Reference","title":"OpenCALPHAD.temperatures","text":"temperatures(result::StepResult) -> Vector{Float64}\n\nReturn array of temperature values from STEP result.\n\n\n\n\n\ntemperatures(result::PhaseDiagramResult) -> Vector{Float64}\n\nReturn array of temperature values from MAP result.\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.gibbs_energies","page":"API Reference","title":"OpenCALPHAD.gibbs_energies","text":"gibbs_energies(result::StepResult) -> Vector{Float64}\n\nReturn array of Gibbs energy values from STEP result.\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.phase_fractions","page":"API Reference","title":"OpenCALPHAD.phase_fractions","text":"phase_fractions(result::StepResult, phase_idx::Int) -> Vector{Float64}\n\nReturn array of phase fraction values for specified phase index.\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.map_phase_diagram","page":"API Reference","title":"OpenCALPHAD.map_phase_diagram","text":"map_phase_diagram(phase::Phase, db::Database, T_start, T_stop, T_step; P=1e5, component_indices=(1,2))\n\nCalculate phase diagram (MAP) by finding phase boundaries over a temperature range.\n\nFor phases with miscibility gaps, this finds the two-phase region boundaries at each temperature point.\n\nArguments\n\nphase::Phase: Phase to analyze\ndb::Database: Thermodynamic database\nT_start::Real: Start temperature [K]\nT_stop::Real: Stop temperature [K]\nT_step::Real: Temperature step [K]\nP::Real=1e5: Pressure [Pa]\ncomponent_indices::Tuple{Int,Int}=(1,2): Indices of binary components in first sublattice\n\nReturns\n\nPhaseDiagramResult: Phase boundaries at each temperature\n\n\n\n\n\nmap_phase_diagram(phase, db, T_start, T_stop, T_step; P=1e5)\n\nFallback method for invalid phase type.\n\n\n\n\n\nmap_phase_diagram(phase::Phase, db, T_start, T_stop, T_step; P=1e5)\n\nFallback method for invalid database type.\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.PhaseDiagramResult","page":"API Reference","title":"OpenCALPHAD.PhaseDiagramResult","text":"PhaseDiagramResult\n\nComplete result of a MAP (phase diagram) calculation.\n\nFields\n\nphase::Phase: The phase being analyzed\npoints::Vector{PhaseDiagramPoint}: Boundary points at each temperature\n\n\n\n\n\n","category":"type"},{"location":"api/#OpenCALPHAD.PhaseDiagramPoint","page":"API Reference","title":"OpenCALPHAD.PhaseDiagramPoint","text":"PhaseDiagramPoint\n\nSingle point on a phase diagram boundary.\n\nFields\n\ntemperature::Float64: Temperature [K]\ncompositions::NTuple{2, Float64}: Boundary compositions (left, right) as mole fractions\nconverged::Bool: Whether the calculation converged\n\nNote\n\ncompositions[1] is the left (lower) boundary, compositions[2] is the right (upper) boundary.\n\n\n\n\n\n","category":"type"},{"location":"api/#OpenCALPHAD.boundaries","page":"API Reference","title":"OpenCALPHAD.boundaries","text":"boundaries(result::PhaseDiagramResult, idx::Int) -> Vector{Float64}\n\nReturn array of boundary compositions at index idx.\n\nArguments\n\nresult::PhaseDiagramResult: MAP calculation result\nidx::Int: Boundary index (1 = left/lower, 2 = right/upper)\n\nExamples\n\nresult = map_phase_diagram(fcc, db, 800.0, 1200.0, 50.0)\nleft_boundary = boundaries(result, 1)   # Left (lower) compositions\nright_boundary = boundaries(result, 2)  # Right (upper) compositions\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.ForwardDiffMethod","page":"API Reference","title":"OpenCALPHAD.ForwardDiffMethod","text":"ForwardDiffMethod <: DiffMethod\n\nUse ForwardDiff.jl for automatic differentiation. Fast and accurate, but may fail with some expression types.\n\n\n\n\n\n","category":"type"},{"location":"api/#OpenCALPHAD.FiniteDiffMethod","page":"API Reference","title":"OpenCALPHAD.FiniteDiffMethod","text":"FiniteDiffMethod <: DiffMethod\n\nUse finite differences for numerical differentiation. Always works, but slower and less accurate.\n\nFields\n\nepsilon::Float64: Step size for finite differences (default: 1e-8)\n\n\n\n\n\n","category":"type"},{"location":"api/#OpenCALPHAD.compute_gradient","page":"API Reference","title":"OpenCALPHAD.compute_gradient","text":"compute_gradient(phase::Phase, T::Real, y::AbstractMatrix, db::Database,\n                 method::DiffMethod; P::Real=1e5)\n\nCompute gradient of Gibbs energy with respect to site fractions.\n\nReturns\n\nVector{Float64}: ∂G/∂y (flattened)\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.compute_hessian","page":"API Reference","title":"OpenCALPHAD.compute_hessian","text":"compute_hessian(phase::Phase, T::Real, y::AbstractMatrix, db::Database,\n                method::DiffMethod; P::Real=1e5)\n\nCompute Hessian of Gibbs energy with respect to site fractions.\n\nReturns\n\nMatrix{Float64}: ∂²G/∂y²\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.compute_chemical_potential","page":"API Reference","title":"OpenCALPHAD.compute_chemical_potential","text":"compute_chemical_potential(phase::Phase, T::Real, y::AbstractMatrix, db::Database,\n                           method::DiffMethod; P::Real=1e5) -> Vector{Float64}\n\nCompute chemical potentials from Gibbs energy derivatives.\n\nFor sublattice model: μᵢ = G + Σⱼ (δᵢⱼ - xⱼ) · ∂G/∂xⱼ\n\nReturns chemical potential for each component [J/mol].\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.set_G!","page":"API Reference","title":"OpenCALPHAD.set_G!","text":"set_G!(phase::Phase, constituents::Vector{Symbol}, func::Function)\n\nSet the Gibbs energy function for an endmember.\n\nArguments\n\nphase: The phase to modify\nconstituents: Species on each sublattice (one per sublattice)\nfunc: Julia function T -> G(T) returning Gibbs energy in J/mol\n\nExample\n\nset_G!(fcc, [:AG], T -> -7209.512 + 118.202*T - 23.8463*T*log(T))\n\nNote\n\nThe function is automatically checked for ForwardDiff compatibility. A warning is issued if the function may not work with automatic differentiation.    # Check AD compatibility\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.set_L!","page":"API Reference","title":"OpenCALPHAD.set_L!","text":"set_L!(phase::Phase, constituents::Vector{Symbol}, order::Int, func::Function)\n\nSet a Redlich-Kister interaction parameter.\n\nArguments\n\nphase: The phase to modify\nconstituents: Interacting species (e.g., [:AG, :CU] for binary)\norder: Interaction order (0, 1, 2, ...)\nfunc: Julia function T -> L(T) returning interaction energy in J/mol\n\nExample\n\nset_L!(fcc, [:AG, :CU], 0, T -> -36583.0 + 4.46*T)\nset_L!(fcc, [:AG, :CU], 1, T -> -5765.0 - 4.03*T)\n\nMulti-component systems\n\nFor ternary and higher order systems, use the same syntax:\n\nset_L!(fcc, [:AL, :CU, :MG], 0, T -> -30000.0)  # Ternary interaction\n\nNote    # Check AD compatibility\n\nThe function is automatically checked for ForwardDiff compatibility.\n\n\n\n\n\nset_L!(phase::Phase, constituents::Vector{Vector{Symbol}}, order::Int, func::Function)\n\nSet a Redlich-Kister interaction parameter for multi-sublattice phases.\n\nArguments\n\nphase: The phase to modify\nconstituents: Species per sublattice, with interaction in one sublattice\norder: Interaction order (0, 1, 2, ...)\nfunc: Julia function T -> L(T)\n\nExample (for compound with two sublattices)\n\n# L(AL,NI:NI;0) - interaction on sublattice 1, NI fixed on sublattice 2\nset_L!(phase, [[:AL, :NI], [:NI]], 0, T -> -10000.0)\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.has_julia_parameters","page":"API Reference","title":"OpenCALPHAD.has_julia_parameters","text":"has_julia_parameters(phase::Phase) -> Bool\n\nCheck if the phase has any Julia function parameters defined.\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.validate_ad_compatibility","page":"API Reference","title":"OpenCALPHAD.validate_ad_compatibility","text":"validate_ad_compatibility(func::Function; test_point::Real=1000.0) -> Bool\n\nCheck if a function is compatible with ForwardDiff automatic differentiation.\n\nArguments\n\nfunc: A function T -> value to test\ntest_point: Temperature value to test at (default: 1000.0 K)\n\nReturns\n\ntrue if the function can be differentiated by ForwardDiff\nfalse otherwise\n\nExample\n\nghser_ag(T) = -7209.512 + 118.202*T - 23.8463*T*log(T)\nvalidate_ad_compatibility(ghser_ag)  # returns true\n\n# Function with type restriction (may fail)\nbad_func(T::Float64) = T^2  # Dual type won't match Float64\nvalidate_ad_compatibility(bad_func)  # returns false\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.is_endmember","page":"API Reference","title":"OpenCALPHAD.is_endmember","text":"is_endmember(p::JuliaParameter) -> Bool\n\nCheck if the parameter is an endmember (single species per sublattice).\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.is_interaction","page":"API Reference","title":"OpenCALPHAD.is_interaction","text":"is_interaction(p::JuliaParameter) -> Bool\n\nCheck if the parameter is an interaction (multiple species in some sublattice).\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.get_julia_endmembers","page":"API Reference","title":"OpenCALPHAD.get_julia_endmembers","text":"get_julia_endmembers(phase::Phase) -> Vector{JuliaParameter}\n\nGet all endmember (G) parameters defined as Julia functions.\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.get_julia_interactions","page":"API Reference","title":"OpenCALPHAD.get_julia_interactions","text":"get_julia_interactions(phase::Phase) -> Vector{JuliaParameter}\n\nGet all interaction (L) parameters defined as Julia functions.\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.add_element!","page":"API Reference","title":"OpenCALPHAD.add_element!","text":"add_element!(db::Database, name::Symbol; mass::Float64=0.0, ref_state::String=\"FCC_A1\")\n\nAdd an element to the database.\n\nExample\n\nadd_element!(db, :AG, mass = 107.868)\nadd_element!(db, :CU, mass = 63.546)\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.add_elements!","page":"API Reference","title":"OpenCALPHAD.add_elements!","text":"add_elements!(db::Database, names::Vector{Symbol})\n\nAdd multiple elements to the database.\n\nExample\n\nadd_elements!(db, [:AG, :CU])\nadd_elements!(db, [:AL, :CU, :MG])  # Ternary system\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.add_phase!","page":"API Reference","title":"OpenCALPHAD.add_phase!","text":"add_phase!(db::Database, phase::Phase)\n\nAdd a phase to the database.\n\nExample\n\nfcc = Phase(\"FCC_A1\", [1.0], [[:AG, :CU]])\nset_G!(fcc, [:AG], ghser_ag)\nset_G!(fcc, [:CU], ghser_cu)\nset_L!(fcc, [:AG, :CU], 0, T -> -36583.0 + 4.46*T)\nadd_phase!(db, fcc)\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.driving_force","page":"API Reference","title":"OpenCALPHAD.driving_force","text":"driving_force(db::Database, T::Real, x::Real, solid_phase::String, liquid_phase::String;\n              P::Real=1e5) -> Float64\n\nCalculate the thermodynamic driving force for solidification.\n\nΔG = Gsolid(T, x) - Gliquid(T, x)\n\nArguments\n\ndb: Database containing phase definitions\nT: Temperature [K]\nx: Mole fraction of second component (0 to 1)\nsolid_phase: Name of solid phase (e.g., \"FCC_A1\")\nliquid_phase: Name of liquid phase (e.g., \"LIQUID\")\nP: Pressure [Pa]\n\nReturns\n\nΔG [J/mol]: Negative means solidification is favorable\n\nExample\n\ndb = read_tdb(\"agcu.TDB\")\nΔG = driving_force(db, 1000.0, 0.3, \"FCC_A1\", \"LIQUID\")\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.chemical_potential","page":"API Reference","title":"OpenCALPHAD.chemical_potential","text":"chemical_potential(phase::Phase, T::Real, x::Real, db::Database;\n                   P::Real=1e5) -> Tuple{Float64, Float64}\n\nCalculate chemical potentials of both components.\n\nμi = ∂G/∂ni at constant T, P, n_j\n\nArguments\n\nphase: Phase object\nT: Temperature [K]\nx: Mole fraction of second component\ndb: Database\nP: Pressure [Pa]\n\nReturns\n\n(μ₁, μ₂): Chemical potentials [J/mol] of components 1 and 2\n\nExample\n\nfcc = get_phase(db, \"FCC_A1\")\nμ_Ag, μ_Cu = chemical_potential(fcc, 1000.0, 0.3, db)\n\n\n\n\n\nchemical_potential(phase::Phase, T::Real, x::Real; P::Real=1e5) -> Tuple{Float64, Float64}\n\nCalculate chemical potentials using Julia DSL parameters (no Database required).\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.diffusion_potential","page":"API Reference","title":"OpenCALPHAD.diffusion_potential","text":"diffusion_potential(phase::Phase, T::Real, x::Real, db::Database;\n                    P::Real=1e5) -> Float64\n\nCalculate the diffusion potential (second derivative of G).\n\n∂²G/∂x² - used in Cahn-Hilliard equation for diffusion coefficient.\n\nReturns\n\nd²G/dx² [J/mol]\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.phase_field_params","page":"API Reference","title":"OpenCALPHAD.phase_field_params","text":"phase_field_params(db::Database, T::Real, x::Real,\n                   solid_phase::String, liquid_phase::String;\n                   P::Real=1e5) -> NamedTuple\n\nCalculate all parameters needed for phase field simulation.\n\nReturns\n\nNamedTuple with:\n\nΔG: Driving force [J/mol]\nμ_solid: Chemical potentials in solid (μ₁, μ₂)\nμ_liquid: Chemical potentials in liquid (μ₁, μ₂)\nd2G_solid: Diffusion potential in solid\nd2G_liquid: Diffusion potential in liquid\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.calculate_equilibrium","page":"API Reference","title":"OpenCALPHAD.calculate_equilibrium","text":"calculate_equilibrium(db::Database, conditions::ConditionSet) -> Equilibrium\n\nCalculate thermodynamic equilibrium for the given database and conditions.\n\nAlgorithm\n\nExtract conditions (T, P, composition)\nGlobal grid minimization for initial phase estimate\nNewton-Raphson iteration for precise solution\nPost-processing and result formatting\n\nArguments\n\ndb::Database: Thermodynamic database\nconditions::ConditionSet: Equilibrium conditions\n\nReturns\n\nEquilibrium: Calculated equilibrium state\n\n\n\n\n\ncalculate_equilibrium(db::Database;\n                      T::Real=298.15,\n                      P::Real=1e5,\n                      N::Real=1.0,\n                      x::Dict{String,Float64}=Dict()) -> Equilibrium\n\nConvenience function for equilibrium calculation with keyword arguments.\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.step_calculation","page":"API Reference","title":"OpenCALPHAD.step_calculation","text":"step_calculation(db::Database, conditions::ConditionSet,\n                 variable::Symbol, range::AbstractRange) -> Vector{Equilibrium}\n\nPerform stepping calculation over a range of values for a variable.\n\nArguments\n\ndb::Database: Thermodynamic database\nconditions::ConditionSet: Base conditions\nvariable::Symbol: Variable to step (:T, :P, :X, etc.)\nrange: Range of values to step through\n\nReturns\n\nVector{Equilibrium}: Equilibrium results for each step\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.set_condition!","page":"API Reference","title":"OpenCALPHAD.set_condition!","text":"set_condition!(cs::ConditionSet, cond::EquilCondition)\n\nAdd or update a condition in the condition set.\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.degrees_of_freedom","page":"API Reference","title":"OpenCALPHAD.degrees_of_freedom","text":"degrees_of_freedom(cs::ConditionSet, n_components::Int) -> Int\n\nCalculate the degrees of freedom for the system. DOF = ncomponents + 2 - nconditions\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.stable_phases","page":"API Reference","title":"OpenCALPHAD.stable_phases","text":"stable_phases(eq::Equilibrium) -> Vector{PhaseResult}\n\nReturn only the stable phases from equilibrium result.\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.n_stable_phases","page":"API Reference","title":"OpenCALPHAD.n_stable_phases","text":"n_stable_phases(eq::Equilibrium) -> Int\n\nReturn the number of stable phases.\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.num_sublattices","page":"API Reference","title":"OpenCALPHAD.num_sublattices","text":"num_sublattices(phase::Phase) -> Int\n\nReturn the number of sublattices in the phase.\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.total_sites","page":"API Reference","title":"OpenCALPHAD.total_sites","text":"total_sites(phase::Phase) -> Float64\n\nReturn the total number of sites per formula unit.\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.evaluate_gfunction","page":"API Reference","title":"OpenCALPHAD.evaluate_gfunction","text":"evaluate_gfunction(gfunc::GFunction, T::Real, P::Real=1e5) -> Float64\n\nEvaluate a GFunction at temperature T and pressure P, selecting the appropriate temperature segment.\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.compile_gfunction!","page":"API Reference","title":"OpenCALPHAD.compile_gfunction!","text":"compile_gfunction!(gfunc::GFunction)\n\nCompile the GFunction expressions into an evaluatable function (T, P) -> value.\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.evaluate_parameter","page":"API Reference","title":"OpenCALPHAD.evaluate_parameter","text":"evaluate_parameter(param::Parameter, T::Real, db::Database, P::Real=1e5) -> Float64\n\nEvaluate a Parameter at temperature T and pressure P, resolving function references.\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.plot_phase_diagram","page":"API Reference","title":"OpenCALPHAD.plot_phase_diagram","text":"plot_phase_diagram(result::PhaseDiagramResult; kwargs...)\n\nConvenience function to plot a phase diagram with appropriate defaults. Returns the plot recipe data for use with Plots.jl.\n\n\n\n\n\n","category":"function"},{"location":"api/#OpenCALPHAD.plot_gibbs_curve","page":"API Reference","title":"OpenCALPHAD.plot_gibbs_curve","text":"plot_gibbs_curve(result::GridScanResult; kwargs...)\n\nConvenience function to plot Gibbs energy curve. Returns the plot recipe data for use with Plots.jl.\n\n\n\n\n\n","category":"function"},{"location":"getting_started/#Getting-Started","page":"Getting Started","title":"Getting Started","text":"This guide covers the basic usage of OpenCALPHAD.jl for thermodynamic calculations.","category":"section"},{"location":"getting_started/#Reading-a-Database","page":"Getting Started","title":"Reading a Database","text":"Thermodynamic data is read from TDB (Thermo-Calc Database) files:\n\nusing OpenCALPHAD\n\ndb = read_tdb(\"agcu.TDB\")\nfcc = get_phase(db, \"FCC_A1\")","category":"section"},{"location":"getting_started/#Calculating-Gibbs-Energy","page":"Getting Started","title":"Calculating Gibbs Energy","text":"Calculate the Gibbs energy at a specific temperature and composition:\n\ny = [0.7 0.3]  # Site fractions: 70% Ag, 30% Cu\nT = 1000.0    # Temperature [K]\nG = calculate_gibbs_energy(fcc, T, y, db)\n\nSee also: 101_gibbs_energy_agcu.jl","category":"section"},{"location":"getting_started/#Finding-Miscibility-Gap","page":"Getting Started","title":"Finding Miscibility Gap","text":"For phases with miscibility gaps (like FCC in Ag-Cu):\n\ngap = find_miscibility_gap(fcc, 1000.0, db)\n# gap.x1 = Cu-rich boundary, gap.x2 = Ag-rich boundary\n\nSee also: 211_miscibility_gap_agcu.jl","category":"section"},{"location":"getting_started/#Phase-Diagram-Calculation","page":"Getting Started","title":"Phase Diagram Calculation","text":"Calculate phase boundaries over a temperature range:\n\nresult = map_phase_diagram(fcc, db, 600.0, 1200.0, 25.0)\n\n# Access boundary compositions\nT = temperatures(result)\nx_left = boundaries(result, 1)   # Cu-rich boundary\nx_right = boundaries(result, 2)  # Ag-rich boundary\n\nSee also: 411_phase_diagram_agcu.jl","category":"section"},{"location":"getting_started/#Plotting","page":"Getting Started","title":"Plotting","text":"OpenCALPHAD.jl integrates with Plots.jl through recipe functions:\n\nusing Plots\n\nresult = map_phase_diagram(fcc, db, 600.0, 1200.0, 25.0)\nplot(result)\nsavefig(\"phase_diagram.png\")","category":"section"},{"location":"getting_started/#State-Variables","page":"Getting Started","title":"State Variables","text":"Symbol Description Unit\nT Temperature K\nP Pressure Pa\nG Gibbs energy J/mol\nx Mole fraction -\ny Site fraction -","category":"section"},{"location":"getting_started/#Quick-Example","page":"Getting Started","title":"Quick Example","text":"using OpenCALPHAD\nusing Plots\n\n# Load database and get phase\ndb = read_tdb(\"agcu.TDB\")\nfcc = get_phase(db, \"FCC_A1\")\n\n# Calculate and plot phase diagram\nresult = map_phase_diagram(fcc, db, 600.0, 1200.0, 25.0)\nplot(result, title=\"Ag-Cu Phase Diagram\")\nsavefig(\"agcu_phase_diagram.png\")","category":"section"},{"location":"getting_started/#Next-Steps","page":"Getting Started","title":"Next Steps","text":"Examples - Complete list of runnable examples\nJulia DSL - Define thermodynamic models in Julia\nAPI Reference - Complete function documentation","category":"section"},{"location":"examples/#Examples","page":"Examples","title":"Examples","text":"This page provides an overview of all examples included with OpenCALPHAD.jl.","category":"section"},{"location":"examples/#Example-Categories","page":"Examples","title":"Example Categories","text":"Range Category Description\n1xx Basic Calculations Gibbs energy, chemical potential\n2xx Equilibrium Miscibility gap, two-phase equilibrium\n3xx STEP Calculations Temperature stepping with phase detection\n4xx Phase Diagrams Binary phase diagrams\n6xx Advanced Magnetic models, parameter optimization\n9xx Validation Comparison with openCALPHAD (Fortran)","category":"section"},{"location":"examples/#Example-List","page":"Examples","title":"Example List","text":"","category":"section"},{"location":"examples/#Basic-Calculations-(1xx)","page":"Examples","title":"Basic Calculations (1xx)","text":"File Description\n101_gibbs_energy_agcu.jl Gibbs energy curve with common tangent construction\n102_gibbs_energy_crmo.jl Cr-Mo from multi-component database (manual y-matrix)\n122_scan_crmo.jl Cr-Mo with component_indices (high-level API)\n131_julia_dsl_agcu.jl Julia DSL basics - define phases without TDB\n131_julia_dsl_agcu.ipynb Jupyter notebook version","category":"section"},{"location":"examples/#Equilibrium-(2xx)","page":"Examples","title":"Equilibrium (2xx)","text":"File Description\n211_miscibility_gap_agcu.jl Miscibility gap validation against literature","category":"section"},{"location":"examples/#STEP-Calculations-(3xx)","page":"Examples","title":"STEP Calculations (3xx)","text":"File Description\n311_step_gm_agcu.jl Ag-Cu STEP calculation with Gm plot\n311_step_gm_agcu.ipynb Jupyter notebook version (interactive)\n312_two_phase_crfe.jl Cr-Fe two-phase equilibrium\n313_step_twophase_agcu.jl Two-phase detection with step_temperature\n313_step_twophase_agcu.ipynb Jupyter notebook version (interactive)\n322_step_crmo.jl Cr-Mo with component_indices","category":"section"},{"location":"examples/#Phase-Diagrams-(4xx)","page":"Examples","title":"Phase Diagrams (4xx)","text":"File Description\n411_phase_diagram_agcu.jl Ag-Cu binary phase diagram\n411_phase_diagram_agcu.ipynb Jupyter notebook version","category":"section"},{"location":"examples/#Advanced-(6xx)","page":"Examples","title":"Advanced (6xx)","text":"File Description\n611_magnetic_ihj.jl Inden-Hillert-Jarl magnetic contribution model\n621_parameter_optimization.jl Fitting Redlich-Kister coefficients\n621_parameter_optimization.ipynb Jupyter notebook version\n624_magnetic_optimization.jl Optimizing magnetic parameters (Tc, β)","category":"section"},{"location":"examples/#Validation-(9xx)","page":"Examples","title":"Validation (9xx)","text":"File Description\n901_validation_comparison.jl OpenCALPHAD.jl vs openCALPHAD (Fortran)\n911_phase_diagram_validated.jl Phase diagram with Julia DSL validation","category":"section"},{"location":"examples/#Running-Examples","page":"Examples","title":"Running Examples","text":"# Navigate to the package directory\ncd OpenCALPHAD.jl\n\n# Run a single example\njulia --project=. examples/101_gibbs_energy_agcu.jl\n\n# Run interactively (keeps plot window open)\njulia --project=. -i examples/411_phase_diagram_agcu.jl","category":"section"},{"location":"examples/#See-Also","page":"Examples","title":"See Also","text":"Getting Started - Quick introduction with code snippets\nJulia DSL - Defining phases directly in Julia\nAPI Reference - Complete function documentation","category":"section"},{"location":"workflow/#Workflow","page":"Workflow","title":"Workflow","text":"","category":"section"},{"location":"workflow/#Overview","page":"Workflow","title":"Overview","text":"OpenCALPHAD.jl provides two main workflows for thermodynamic calculations:\n\nTDB Workflow: Load parameters from TDB database files\nJulia DSL Workflow: Define parameters directly in Julia code\n\n+---------------------------------------------------+\n| TDB Workflow                                      |\n|---------------------------------------------------|\n| agcu.TDB --> read_tdb() --> get_phase() --> Phase |\n+---------------------------------------------------+\n                        |\n                        v\n+---------------------------------------------------+\n| Julia DSL Workflow                                |\n|---------------------------------------------------|\n| Phase(\"FCC_A1\",...) --> set_G!() --> set_L!()     |\n| (produces a Phase object, no TDB file needed)     |\n+---------------------------------------------------+\n                        |\n                        v\n+---------------------------------------------------+\n| Equilibrium Calculation                           |\n|---------------------------------------------------|\n| find_miscibility_gap() --> MiscibilityGapResult   |\n| map_phase_diagram()    --> PhaseDiagramResult     |\n| step_temperature()     --> StepResult             |\n+---------------------------------------------------+\n                        |\n                        v\n+---------------------------------------------------+\n| Analysis / Output                                 |\n|---------------------------------------------------|\n| plot()              --> Phase diagram             |\n| ForwardDiff         --> Parameter optimization    |\n| chemical_potential  --> Phase-field coupling      |\n+---------------------------------------------------+","category":"section"},{"location":"workflow/#Basic-Workflow-(TDB)","page":"Workflow","title":"Basic Workflow (TDB)","text":"","category":"section"},{"location":"workflow/#Step-by-Step","page":"Workflow","title":"Step-by-Step","text":"Load TDB database with read_tdb()\nGet phase with get_phase()\nCalculate equilibrium with find_miscibility_gap() or calculate_equilibrium()\nPlot results with plot()","category":"section"},{"location":"workflow/#Example:-Ag-Cu-Phase-Diagram","page":"Workflow","title":"Example: Ag-Cu Phase Diagram","text":"See also: examples/411_phase_diagram_agcu.jl\n\nusing OpenCALPHAD\nusing Plots\n\n# 1. Load database\ndb = read_tdb(\"agcu.TDB\")\n\n# 2. Get phase\nfcc = get_phase(db, \"FCC_A1\")\n\n# 3. Calculate phase diagram\nresult = map_phase_diagram(fcc, db, 800.0, 1300.0, 25.0)\n\n# 4. Plot\nplot(result)","category":"section"},{"location":"workflow/#Example:-Single-Temperature-Equilibrium","page":"Workflow","title":"Example: Single Temperature Equilibrium","text":"# Find miscibility gap at 1000 K\ngap = find_miscibility_gap(fcc, 1000.0, db)\n\nprintln(\"Ag-rich boundary: x(Ag) = $(gap.x1)\")\nprintln(\"Cu-rich boundary: x(Ag) = $(gap.x2)\")","category":"section"},{"location":"workflow/#Julia-DSL-Workflow","page":"Workflow","title":"Julia DSL Workflow","text":"The Julia DSL allows defining thermodynamic parameters directly as Julia functions, enabling automatic differentiation for parameter optimization.","category":"section"},{"location":"workflow/#Step-by-Step-2","page":"Workflow","title":"Step-by-Step","text":"Create Phase with constituents\nSet Gibbs energy with set_G!()\nSet interaction parameters with set_L!()\nCalculate equilibrium (no database argument needed)","category":"section"},{"location":"workflow/#Example:-Ag-Cu-with-Julia-DSL","page":"Workflow","title":"Example: Ag-Cu with Julia DSL","text":"See also: examples/911_phase_diagram_validated.jl\n\nusing OpenCALPHAD\n\n# GHSER functions (from SGTE database)\nfunction ghser_ag(T)\n    return -7209.512 + 118.200733*T - 23.8463314*T*log(T) -\n           0.001790585*T^2 - 3.98587e-7*T^3 - 12011/T\nend\n\nfunction ghser_cu(T)\n    return -7770.458 + 130.485403*T - 24.112392*T*log(T) -\n           0.00265684*T^2 + 1.29223e-7*T^3 + 52478/T\nend\n\n# 1. Create phase\nfcc = Phase(\"FCC_A1\", [1.0], [[:AG, :CU]])\n\n# 2. Set Gibbs energies\nset_G!(fcc, [:AG], ghser_ag)\nset_G!(fcc, [:CU], ghser_cu)\n\n# 3. Set interaction parameters (Redlich-Kister)\nset_L!(fcc, [:AG, :CU], 0, T -> 33819.09 - 8.1236*T)   # L₀\nset_L!(fcc, [:AG, :CU], 1, T -> -5601.87 + 1.32997*T)  # L₁\n\n# 4. Calculate (no db argument)\ngap = find_miscibility_gap(fcc, 1000.0)","category":"section"},{"location":"workflow/#Parameter-Optimization-Workflow","page":"Workflow","title":"Parameter Optimization Workflow","text":"The Julia DSL enables gradient-based optimization of thermodynamic parameters using automatic differentiation through iterative solvers.","category":"section"},{"location":"workflow/#Step-by-Step-3","page":"Workflow","title":"Step-by-Step","text":"Define phase with set_G!() and set_L!()\nDefine loss function comparing calculated vs. experimental data\nOptimize with Optim.jl (BFGS or other gradient-based method)","category":"section"},{"location":"workflow/#Example:-Fitting-Redlich-Kister-Parameters","page":"Workflow","title":"Example: Fitting Redlich-Kister Parameters","text":"See also: examples/621_parameter_optimization.jl\n\nusing OpenCALPHAD\nusing Optim\nusing ForwardDiff\n\n# Experimental data: (T, x_low, x_high)\nexperimental_data = [\n    (800.0,  0.038, 0.991),\n    (1000.0, 0.103, 0.966),\n    (1200.0, 0.224, 0.905),\n]\n\n# Create phase with parameterized L\nfunction create_phase(L0_a, L0_b, L1_a, L1_b)\n    fcc = Phase(\"FCC_A1\", [1.0], [[:AG, :CU]])\n    set_G!(fcc, [:AG], ghser_ag)\n    set_G!(fcc, [:CU], ghser_cu)\n    set_L!(fcc, [:AG, :CU], 0, T -> L0_a + L0_b * T)\n    set_L!(fcc, [:AG, :CU], 1, T -> L1_a + L1_b * T)\n    return fcc\nend\n\n# Loss function\nfunction loss(params)\n    L0_a, L0_b, L1_a, L1_b = params\n    fcc = create_phase(L0_a, L0_b, L1_a, L1_b)\n    error = 0.0\n    for (T, x_low, x_high) in experimental_data\n        gap = find_miscibility_gap(fcc, T)\n        if !isnothing(gap)\n            error += (gap.x1 - x_low)^2 + (gap.x2 - x_high)^2\n        end\n    end\n    return error\nend\n\n# Gradient function (ForwardDiff)\nfunction loss_grad!(G, params)\n    G .= ForwardDiff.gradient(loss, params)\nend\n\n# Optimize\ninitial_params = [35000.0, -10.0, -5000.0, 1.0]\nresult = optimize(loss, loss_grad!, initial_params, BFGS())\n\nprintln(\"Optimized parameters: \", Optim.minimizer(result))","category":"section"},{"location":"workflow/#Magnetic-Contribution-(Advanced)","page":"Workflow","title":"Magnetic Contribution (Advanced)","text":"The Inden-Hillert-Jarl model for magnetic contributions uses conditional branching (ferromagnetic vs. paramagnetic regions). ForwardDiff handles this automatically.\n\nSee also: examples/611_magnetic_ihj.jl\n\nfunction G_magnetic(T, Tc, beta, p)\n    tau = T / Tc\n    if tau < 1  # Ferromagnetic\n        g = 1 - (79/(140*p)*tau^(-1) + ...) / A\n    else        # Paramagnetic\n        g = -(tau^(-5)/10 + ...) / A\n    end\n    return R * T * log(beta + 1) * g\nend\n\n# Use in DSL\nset_G!(bcc_fe, [:FE], T -> ghser_fe(T) + G_magnetic(T, 1043.0, 2.22, 0.4))","category":"section"},{"location":"workflow/#Summary","page":"Workflow","title":"Summary","text":"Workflow Use Case Key Functions\nTDB Standard calculations read_tdb(), get_phase()\nJulia DSL Custom models, optimization Phase(), set_G!(), set_L!()\nOptimization Parameter fitting ForwardDiff.gradient(), optimize()","category":"section"},{"location":"workflow/#See-Also","page":"Workflow","title":"See Also","text":"Getting Started - Installation and basic usage\nAPI Reference - Full function documentation","category":"section"},{"location":"julia_dsl/#Julia-DSL","page":"Julia DSL","title":"Julia DSL","text":"In addition to reading TDB files, OpenCALPHAD.jl provides a Julia-native Domain Specific Language (DSL) for defining thermodynamic models directly in Julia code.\n\ninfo: Advantage of Julia DSL\nThe Julia DSL enables automatic differentiation through iterative solvers, making gradient-based parameter optimization possible.\n\ntip: Example\nSee examples/131_julia_dsl_agcu.jl for a complete working example.","category":"section"},{"location":"julia_dsl/#Basic-Usage","page":"Julia DSL","title":"Basic Usage","text":"","category":"section"},{"location":"julia_dsl/#Creating-a-Phase","page":"Julia DSL","title":"Creating a Phase","text":"using OpenCALPHAD\n\n# Create a binary FCC phase with single sublattice\nfcc = Phase(\"FCC_A1\", [1.0], [[:AG, :CU]])\n#            name     sites   constituents\n\nname: Phase identifier\nsites: Sublattice site multiplicities (e.g., [1.0] for single sublattice)\nconstituents: Species on each sublattice","category":"section"},{"location":"julia_dsl/#Setting-Gibbs-Energy-(set_G!)","page":"Julia DSL","title":"Setting Gibbs Energy (set_G!)","text":"Define the Gibbs energy of pure components (endmembers):\n\n# GHSER for pure Ag (from SGTE database)\nfunction ghser_ag(T)\n    return -7209.512 + 118.200733*T - 23.8463314*T*log(T) -\n           0.001790585*T^2 - 3.98587e-7*T^3 - 12011/T\nend\n\n# GHSER for pure Cu\nfunction ghser_cu(T)\n    return -7770.458 + 130.485403*T - 24.112392*T*log(T) -\n           0.00265684*T^2 + 1.29223e-7*T^3 + 52478/T\nend\n\n# Set endmember Gibbs energies\nset_G!(fcc, [:AG], ghser_ag)\nset_G!(fcc, [:CU], ghser_cu)","category":"section"},{"location":"julia_dsl/#Setting-Interaction-Parameters-(set_L!)","page":"Julia DSL","title":"Setting Interaction Parameters (set_L!)","text":"Define Redlich-Kister interaction parameters:\n\n# L₀ (0th order interaction)\nset_L!(fcc, [:AG, :CU], 0, T -> 33819.09 - 8.1236*T)\n\n# L₁ (1st order interaction)\nset_L!(fcc, [:AG, :CU], 1, T -> -5601.87 + 1.32997*T)\n\n# L₂ (2nd order, if needed)\n# set_L!(fcc, [:AG, :CU], 2, T -> 1000.0)\n\nThe excess Gibbs energy is computed as:\n\nG^ex = x_Ag x_Cu sum_nu=0^n L_nu (x_Ag - x_Cu)^nu","category":"section"},{"location":"julia_dsl/#Comparison:-TDB-vs-Julia-DSL","page":"Julia DSL","title":"Comparison: TDB vs Julia DSL","text":"TDB (Thermo-Calc Database) is a widely-used text format for storing thermodynamic parameters. It originated from Thermo-Calc and is supported by most CALPHAD software including openCALPHAD.","category":"section"},{"location":"julia_dsl/#TDB-Format-(openCALPHAD)","page":"Julia DSL","title":"TDB Format (openCALPHAD)","text":"FUNCTION GHSERAG 298.15 -7209.512+118.200733*T-23.8463314*T*LN(T)\n    -.001790585*T**2-3.98587E-07*T**3-12011*T**(-1); 1235.08 Y\n    -15095.314+190.265169*T-33.472*T*LN(T)+1.412186E+29*T**(-9); 3000 N !\n\nPARAMETER G(FCC_A1,AG:VA;0) 298.15 +GHSERAG#; 3000 N !\nPARAMETER G(FCC_A1,CU:VA;0) 298.15 +GHSERCU#; 3200 N !\nPARAMETER G(FCC_A1,AG,CU:VA;0) 298.15 +33819.1-8.1236*T; 6000 N !\nPARAMETER G(FCC_A1,AG,CU:VA;1) 298.15 -5601.9+1.32997*T; 6000 N !","category":"section"},{"location":"julia_dsl/#Julia-DSL-(OpenCALPHAD.jl)","page":"Julia DSL","title":"Julia DSL (OpenCALPHAD.jl)","text":"fcc = Phase(\"FCC_A1\", [1.0], [[:AG, :CU]])\n\nset_G!(fcc, [:AG], T -> -7209.512 + 118.200733*T - 23.8463314*T*log(T) -\n                        0.001790585*T^2 - 3.98587e-7*T^3 - 12011/T)\nset_G!(fcc, [:CU], T -> -7770.458 + 130.485403*T - 24.112392*T*log(T) -\n                        0.00265684*T^2 + 1.29223e-7*T^3 + 52478/T)\nset_L!(fcc, [:AG, :CU], 0, T -> 33819.09 - 8.1236*T)\nset_L!(fcc, [:AG, :CU], 1, T -> -5601.87 + 1.32997*T)\n\nFeature TDB Julia DSL\nSyntax CALPHAD-specific Native Julia\nTemperature ranges Y/N markers if/else\nCustom functions Limited Arbitrary Julia code\nAuto-differentiation No Yes (ForwardDiff)\nExternal libraries No Yes","category":"section"},{"location":"julia_dsl/#Advanced-Features","page":"Julia DSL","title":"Advanced Features","text":"","category":"section"},{"location":"julia_dsl/#Conditional-Logic-(Temperature-Ranges)","page":"Julia DSL","title":"Conditional Logic (Temperature Ranges)","text":"TDB uses Y/N markers for temperature ranges. Julia DSL uses native if/else:\n\nfunction ghser_ag(T)\n    if T < 1235.08\n        return -7209.512 + 118.200733*T - 23.8463314*T*log(T) -\n               0.001790585*T^2 - 3.98587e-7*T^3 - 12011/T\n    else\n        return -15095.314 + 190.265169*T - 33.472*T*log(T) +\n               1.412186e29*T^(-9)\n    end\nend","category":"section"},{"location":"julia_dsl/#Magnetic-Contribution-(Inden-Hillert-Jarl)","page":"Julia DSL","title":"Magnetic Contribution (Inden-Hillert-Jarl)","text":"Complex models with conditional branching are naturally expressed.\n\nParameters:\n\nTc: Curie temperature [K]\nbeta (β): Average magnetic moment per atom [Bohr magneton]\np: Structure-dependent coefficient (BCC: 0.4, FCC: 0.28)\n\nfunction G_magnetic(T, Tc, beta, p)\n    tau = T / Tc\n    A = 518/1125 + (11692/15975) * (1/p - 1)\n\n    if tau < 1  # Ferromagnetic\n        g = 1 - (79/(140*p)*tau^(-1) + ...) / A\n    else        # Paramagnetic\n        g = -(tau^(-5)/10 + tau^(-15)/315 + tau^(-25)/1500) / A\n    end\n\n    return R * T * log(beta + 1) * g\nend\n\n# Use in phase definition\nset_G!(bcc_fe, [:FE], T -> ghser_fe(T) + G_magnetic(T, 1043.0, 2.22, 0.4))\n\nSee examples/611_magnetic_ihj.jl","category":"section"},{"location":"julia_dsl/#External-Library-Integration","page":"Julia DSL","title":"External Library Integration","text":"Julia DSL allows calling external libraries:\n\nusing Interpolations\n\n# Load experimental data\nT_data = [300, 400, 500, 600, 700]\nG_data = [-1000, -2000, -3500, -5000, -6500]\nitp = linear_interpolation(T_data, G_data)\n\n# Use in Gibbs energy\nset_G!(phase, [:X], T -> itp(T))","category":"section"},{"location":"julia_dsl/#Calculation-without-Database","page":"Julia DSL","title":"Calculation without Database","text":"With Julia DSL, no Database argument is needed:\n\n# TDB workflow (requires db)\ngap = find_miscibility_gap(fcc, 1000.0, db)\n\n# Julia DSL workflow (no db)\ngap = find_miscibility_gap(fcc, 1000.0)","category":"section"},{"location":"julia_dsl/#Parameter-Optimization","page":"Julia DSL","title":"Parameter Optimization","text":"The key advantage of Julia DSL is enabling automatic differentiation:\n\nusing ForwardDiff\nusing Optim\n\nfunction loss(params)\n    L0, L1 = params\n    fcc = Phase(\"FCC_A1\", [1.0], [[:AG, :CU]])\n    set_G!(fcc, [:AG], ghser_ag)\n    set_G!(fcc, [:CU], ghser_cu)\n    set_L!(fcc, [:AG, :CU], 0, T -> L0[1] + L0[2]*T)\n    set_L!(fcc, [:AG, :CU], 1, T -> L1[1] + L1[2]*T)\n\n    error = 0.0\n    for (T, x_exp) in experimental_data\n        gap = find_miscibility_gap(fcc, T)\n        error += (gap.x1 - x_exp)^2\n    end\n    return error\nend\n\n# Gradient via ForwardDiff (through Newton iterations!)\ngrad = ForwardDiff.gradient(loss, initial_params)\n\n# Optimize with BFGS\nresult = optimize(loss, loss_grad!, initial_params, BFGS())\n\nSee examples/621_parameter_optimization.jl","category":"section"},{"location":"julia_dsl/#API-Reference","page":"Julia DSL","title":"API Reference","text":"Function Description\nPhase(name, sites, constituents) Create a new phase\nset_G!(phase, species, func) Set endmember Gibbs energy\nset_L!(phase, species, order, func) Set interaction parameter\nhas_julia_parameters(phase) Check if phase has Julia DSL parameters\nvalidate_ad_compatibility(func) Verify function works with ForwardDiff","category":"section"},{"location":"julia_dsl/#See-Also","page":"Julia DSL","title":"See Also","text":"Workflow - Overall calculation workflow\nGetting Started - Installation and basic usage\nAPI Reference - Full function documentation","category":"section"},{"location":"#OpenCALPHAD.jl","page":"Home","title":"OpenCALPHAD.jl","text":"A pure Julia implementation of CALPHAD (CALculation of PHAse Diagrams) thermodynamic calculations.","category":"section"},{"location":"#Overview","page":"Home","title":"Overview","text":"OpenCALPHAD.jl provides tools for:\n\nReading thermodynamic databases (TDB format)\nCalculating Gibbs energy using the Compound Energy Formalism (CEF)\nFinding phase equilibria including miscibility gaps\nGenerating binary phase diagrams\nPlotting results with Plots.jl integration","category":"section"},{"location":"#Features","page":"Home","title":"Features","text":"Pure Julia: No external dependencies on Fortran or C libraries\nAutomatic Differentiation: Uses ForwardDiff.jl for accurate gradient calculations\nJulia DSL: Define thermodynamic models directly as Julia functions\nPhase Field Integration: Utility functions for coupling with phase field simulations\nModern API: Designed for the Julia ecosystem\nValidated: Reference tests against openCALPHAD (Fortran)","category":"section"},{"location":"#Scope-and-Limitations-(v0.1)","page":"Home","title":"Scope and Limitations (v0.1)","text":"v0.1 is designed for binary (2-component) systems with specific phase structures.","category":"section"},{"location":"#Supported-Phase-Structures","page":"Home","title":"Supported Phase Structures","text":"Structure Description Example\n(A,B)₁ Single substitutional sublattice LIQUID\n(A,B)₁(VA)ₙ Substitutional + VA-only interstitial FCC_A1 in Ag-Cu\n(A,B,...)₁(C,VA)ₙ Substitutional + interstitial with VA BCC_A2 in steel1.TDB","category":"section"},{"location":"#Not-Supported-in-v0.1","page":"Home","title":"Not Supported in v0.1","text":"Structure Reason Planned\n3+ sublattices (e.g., SIGMA) Multiple substitutional sites v0.2\n3+ component systems Requires composition vector v0.3\nInterstitial without VA Cannot fix interstitial site Future","category":"section"},{"location":"#Key-Constraints","page":"Home","title":"Key Constraints","text":"First sublattice: Must be substitutional and contain the 2 components of interest\nSecond sublattice onwards: Must contain VA (vacancy), fixed to y(VA)=1.0\nMulti-component databases: Use component_indices parameter to select which 2 components to calculate","category":"section"},{"location":"#Example:-Cr-Mo-from-steel1.TDB","page":"Home","title":"Example: Cr-Mo from steel1.TDB","text":"db = read_tdb(\"steel1.TDB\")  # 6-component database\nbcc = get_phase(db, \"BCC_A2\")\n# BCC_A2: (CR,FE,MO,SI,V)₁(C,VA)₃\n# CR=index 1, MO=index 3\n\n# Select Cr-Mo binary from 6-component database\nresult = step_temperature(bcc, db, 0.5, 1500.0, 2500.0, 50.0;\n                          component_indices=(1, 3))  # (CR, MO)","category":"section"},{"location":"#Installation","page":"Home","title":"Installation","text":"using Pkg\nPkg.add(\"OpenCALPHAD\")\n\nOr in the Pkg REPL:\n\n]add OpenCALPHAD","category":"section"},{"location":"#Quick-Example","page":"Home","title":"Quick Example","text":"using OpenCALPHAD\nusing Plots\n\n# Load thermodynamic database\ndb = read_tdb(\"agcu.TDB\")\nfcc = get_phase(db, \"FCC_A1\")\n\n# Calculate phase diagram\nresult = map_phase_diagram(fcc, db, 600.0, 1200.0, 25.0)\n\n# Plot\nplot(result)","category":"section"},{"location":"#References","page":"Home","title":"References","text":"OpenCALPHAD (Fortran): github.com/sundmanbo/opencalphad\nSundman et al., \"OpenCalphad - a free thermodynamic software\", Integrating Materials and Manufacturing Innovation (2015) 4:1","category":"section"},{"location":"#License","page":"Home","title":"License","text":"GPL-3.0-or-later (same as OpenCALPHAD Fortran)\n\nThis software is a derivative work of openCALPHAD and is distributed under the GNU General Public License v3.0 or later.","category":"section"}]
}
